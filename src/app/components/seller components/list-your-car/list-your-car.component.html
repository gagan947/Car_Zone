<section class="ct_py_70">
      <div class="container">
            <div class="row">
                  <div class="col-md-8 mx-auto">
                        <div class="ct_multistep_form_card pt-4 mt-3 mb-3 ct_host_process_bg">
                              <form id="msform">
                                    <!-- progressbar -->
                                    <ul id="ct_form_progressbar" class="ct_host_process_multi_form">
                                          <li class="ct_flex_1" [ngClass]="{ 'active': formStep >= 1}">
                                                <h5>{{'CarDetails' | translate}}</h5>
                                          </li>
                                          <li class="ct_flex_1" [ngClass]="{ 'active': formStep >= 2}">
                                                <h5>{{'PricingLocation' | translate}}</h5>
                                          </li>
                                          <li id="ct_pricing" [ngClass]="{ 'active': formStep === 3}">
                                                <h5>{{'UploadPhotosVideo' | translate}}</h5>
                                          </li>
                                    </ul>
                                    <fieldset *ngIf="formStep == 1" class="ct_mt_60 ct_white_bg">
                                          <form [formGroup]="carFormOne">
                                                <div class="ct_edit_profile_bg">
                                                      <div class="row">
                                                            <div class="col-md-12">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'VehicleIdentificationNumber'
                                                                              | translate}}</label>
                                                                        <input type="text" class="form-control ct_input"
                                                                              placeholder="{{'Enter' | translate}} {{'VehicleIdentificationNumber' | translate}}"
                                                                              formControlName="vrn" />
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('VehicleIdentificationNumber'
                                                                              | translate),
                                                                              carFormOne.get("vrn"))}}</small>
                                                                  </div>
                                                            </div>
                                                            @if(entryType == 1){
                                                            <div class="col-md-12">
                                                                  <div class="d-flex align-items-center gap-2 mb-4">
                                                                        <!-- <button type="button" class="ct_red_btn w-100">
                                                                              {{'Continue' | translate}}
                                                                        </button> -->
                                                                        <app-submit-button class="w-100"
                                                                              [isLoading]="loading"
                                                                              [text]="'Continue' | translate"
                                                                              [class]="'ct_red_btn w-100'"
                                                                              (click)="fetchCarDetailByVIN()"></app-submit-button>
                                                                        <h6 class="mb-0 text-nowrap">OR</h6>
                                                                        <button type="button" (click)="entryType = 2"
                                                                              class="ct_red_btn ct_outline_btn w-100">
                                                                              {{'EnterManually' | translate}}
                                                                        </button>
                                                                  </div>
                                                            </div>
                                                            }
                                                            @if(entryType === 2){
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'BrandName' |
                                                                              translate}}
                                                                        </label>
                                                                        <nz-select class="form-control ct_input"
                                                                              nzPlaceHolder="{{'Select' | translate}}"
                                                                              [nzShowSearch]="true"
                                                                              formControlName="brandName">
                                                                              @for (item of brandList; track $index) {
                                                                              <nz-option nzCustomContent
                                                                                    [nzLabel]="item.make_display"
                                                                                    [nzValue]="item.make_display"
                                                                                    class="ct_custom_select">
                                                                                    <div
                                                                                          class="d-flex align-items-center justify-content-between">
                                                                                          <div>
                                                                                                <p class="m-0">
                                                                                                      {{item.make_display}}
                                                                                                </p>
                                                                                          </div>
                                                                                          <input type="radio"
                                                                                                class="cutom_radio_input"
                                                                                                [checked]="item.make_display == carFormOne.get('brandName')?.value" />
                                                                                    </div>
                                                                              </nz-option>
                                                                              }
                                                                        </nz-select>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('BrandName'
                                                                              | translate),
                                                                              carFormOne.get("brandName"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'CarModel' |
                                                                              translate}} &
                                                                              {{'CarVariant' | translate}}</label>
                                                                        <nz-select class="form-control ct_input"
                                                                              nzPlaceHolder="{{'Select' | translate}}"
                                                                              [nzShowSearch]="true"
                                                                              formControlName="carModel">
                                                                              @for (item of modalList; track $index) {
                                                                              <nz-option nzCustomContent
                                                                                    [nzLabel]="item.modelName"
                                                                                    [nzValue]="item.modelName"
                                                                                    class="ct_custom_select">
                                                                                    <div
                                                                                          class="d-flex align-items-center justify-content-between">
                                                                                          <div>
                                                                                                <p class="m-0">
                                                                                                      {{item.modelName}}
                                                                                                </p>
                                                                                          </div>
                                                                                          <input type="radio"
                                                                                                class="cutom_radio_input"
                                                                                                [checked]="item.modelName === carFormOne.get('carModel')?.value" />
                                                                                    </div>
                                                                              </nz-option>
                                                                              }
                                                                        </nz-select>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('CarModel'
                                                                              | translate),
                                                                              carFormOne.get("carModel"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'SittingCapacity'
                                                                              | translate}}
                                                                        </label>
                                                                        <!-- <input type="number"
                                                                              class="form-control ct_input"
                                                                              placeholder="Enter eg. 7"
                                                                              formControlName="sittingCapacity" /> -->

                                                                        <nz-select class="form-control ct_input"
                                                                              nzPlaceHolder="{{'Select' | translate}}"
                                                                              formControlName="sittingCapacity">
                                                                              @for (item of sittingCapacity; track
                                                                              $index) {
                                                                              <nz-option nzCustomContent
                                                                                    [nzLabel]="item" [nzValue]="item"
                                                                                    class="ct_custom_select">
                                                                                    <div
                                                                                          class="d-flex align-items-center justify-content-between">
                                                                                          <div>
                                                                                                <p class="m-0">
                                                                                                      {{item}}
                                                                                                </p>
                                                                                          </div>
                                                                                          <input type="radio"
                                                                                                class="cutom_radio_input"
                                                                                                [checked]="item === carFormOne.get('sittingCapacity')?.value">
                                                                                    </div>
                                                                              </nz-option>
                                                                              }
                                                                        </nz-select>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('SittingCapacity'
                                                                              | translate),
                                                                              carFormOne.get("sittingCapacity"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'SelectYear' |
                                                                              translate}}
                                                                        </label>
                                                                        <nz-select class="form-control ct_input"
                                                                              nzPlaceHolder="{{'Select' | translate}}"
                                                                              formControlName="selectYear">
                                                                              @for (year of years; track $index) {
                                                                              <nz-option nzCustomContent
                                                                                    [nzLabel]="year" [nzValue]="year"
                                                                                    class="ct_custom_select">
                                                                                    <div
                                                                                          class="d-flex align-items-center justify-content-between">
                                                                                          <div>
                                                                                                <p class="m-0">
                                                                                                      {{year}}
                                                                                                </p>
                                                                                          </div>
                                                                                          <input type="radio"
                                                                                                class="cutom_radio_input"
                                                                                                [checked]="year === carFormOne.get('selectYear')?.value" />
                                                                                    </div>
                                                                              </nz-option>
                                                                              }
                                                                        </nz-select>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('Year'
                                                                              | translate),
                                                                              carFormOne.get("selectYear"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'Kilometer' |
                                                                              translate}}
                                                                        </label>
                                                                        <input type="number"
                                                                              class="form-control ct_input"
                                                                              placeholder="{{'Enter' | translate}} {{'Kilometer' | translate}}"
                                                                              formControlName="carMileage" />
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('Kilometer'
                                                                              | translate),
                                                                              carFormOne.get("carMileage"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'FuelType' |
                                                                              translate}}
                                                                        </label>
                                                                        <nz-select class="form-control ct_input"
                                                                              nzPlaceHolder="{{'Select' | translate}}"
                                                                              formControlName="fuelType">
                                                                              @for (type of fuelTypes; track $index) {
                                                                              <nz-option nzCustomContent
                                                                                    [nzLabel]="type.title"
                                                                                    [nzValue]="type.key"
                                                                                    class="ct_custom_select">
                                                                                    <div
                                                                                          class="d-flex align-items-center justify-content-between">
                                                                                          <div>
                                                                                                <p class="m-0">
                                                                                                      {{type.title}}
                                                                                                </p>
                                                                                          </div>
                                                                                          <input type="radio"
                                                                                                class="cutom_radio_input"
                                                                                                [checked]="type.key === carFormOne.get('fuelType')?.value" />
                                                                                    </div>
                                                                              </nz-option>
                                                                              }
                                                                        </nz-select>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('FuelType'
                                                                              | translate),
                                                                              carFormOne.get("fuelType"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'Transmission' |
                                                                              translate}}
                                                                        </label>
                                                                        <nz-select
                                                                              class="form-control ct_input ct_custom_select"
                                                                              nzPlaceHolder="{{'Select' | translate}}"
                                                                              formControlName="transmission">
                                                                              @for (item of transmissions; track $index)
                                                                              {
                                                                              <nz-option nzCustomContent
                                                                                    [nzLabel]="item.title"
                                                                                    [nzValue]="item.key"
                                                                                    class="ct_custom_select">
                                                                                    <div
                                                                                          class="d-flex align-items-center justify-content-between">
                                                                                          <div>
                                                                                                <p class="m-0">
                                                                                                      {{item.title}}
                                                                                                </p>
                                                                                          </div>
                                                                                          <input type="radio"
                                                                                                class="cutom_radio_input"
                                                                                                [checked]="item.key === carFormOne.get('transmission')?.value" />
                                                                                    </div>
                                                                              </nz-option>
                                                                              }
                                                                        </nz-select>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('Transmission'
                                                                              | translate),
                                                                              carFormOne.get("transmission"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'EngineType' |
                                                                              translate}}
                                                                        </label>
                                                                        <input type="text" class="form-control ct_input"
                                                                              placeholder="{{'Enter' | translate}} {{'EngineType' | translate}}"
                                                                              formControlName="engineType" />
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('EngineType'
                                                                              | translate),
                                                                              carFormOne.get("engineType"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'Emissions' |
                                                                              translate}}
                                                                        </label>
                                                                        <input type="text" class="form-control ct_input"
                                                                              placeholder="{{'Enter' | translate}} {{'Emissions' | translate}}"
                                                                              formControlName="co2Emission" />
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('Emissions'
                                                                              | translate),
                                                                              carFormOne.get("co2Emission"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'ExteriorColor' |
                                                                              translate}}
                                                                        </label>
                                                                        <input type="text" class="form-control ct_input"
                                                                              placeholder="{{'Enter' | translate}} {{'ExteriorColor' | translate}}"
                                                                              formControlName="carColor" />
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('ExteriorColor'
                                                                              | translate),
                                                                              carFormOne.get("carColor"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'Condition' |
                                                                              translate}}
                                                                        </label>
                                                                        <nz-select
                                                                              class="form-control ct_input ct_custom_select"
                                                                              nzPlaceHolder="{{'Select' | translate}}"
                                                                              formControlName="carCondition">
                                                                              @for (item of conditions; track $index) {
                                                                              <nz-option nzCustomContent
                                                                                    [nzLabel]="item.title"
                                                                                    [nzValue]="item.key"
                                                                                    class="ct_custom_select">
                                                                                    <div
                                                                                          class="d-flex align-items-center justify-content-between">
                                                                                          <div>
                                                                                                <p
                                                                                                      class="m-0 ct_fw_600">
                                                                                                      {{item.title}}
                                                                                                </p>
                                                                                                <p class="m-0 ">
                                                                                                      {{item.subTitle}}
                                                                                                </p>
                                                                                          </div>
                                                                                          <input type="radio"
                                                                                                class="cutom_radio_input"
                                                                                                [checked]="item.key === carFormOne.get('carCondition')?.value" />
                                                                                    </div>
                                                                              </nz-option>
                                                                              }
                                                                        </nz-select>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('Condition'
                                                                              | translate),
                                                                              carFormOne.get("carCondition"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'PowerOutput' |
                                                                              translate}}
                                                                        </label>
                                                                        <input type="text" class="form-control ct_input"
                                                                              placeholder="{{'Enter' | translate}} {{'PowerOutput' | translate}}"
                                                                              formControlName="powerOutput" />
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('PowerOutput'
                                                                              | translate),
                                                                              carFormOne.get("powerOutput"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'FirstRegistrationDate'
                                                                              | translate}}
                                                                        </label>
                                                                        <input type="date" class="form-control ct_input"
                                                                              placeholder="{{'Select' | translate}} {{'InspectionDate' | translate}}"
                                                                              formControlName="first_registration_date" />
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('FirstRegistrationDate'
                                                                              | translate),
                                                                              carFormOne.get("first_registration_date"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'FeaturesSpecifications'
                                                                              | translate}}
                                                                        </label>
                                                                        <ul class="d-flex align-items-center gap-3 flex-wrap  ct_para_scroll ct_custom_scroll ct_pe_30 mb-0"
                                                                              [ngClass]="{'mb-2' : selectedFeatures.length > 0}">
                                                                              @for (item of selectedFeatures; track
                                                                              $index) {
                                                                              <li>
                                                                                    <button type="button"
                                                                                          class="ct_select_badge">{{item}}
                                                                                          <span
                                                                                                (click)="removeFeature($index)"><i
                                                                                                      class="fa-solid fa-xmark"></i></span></button>
                                                                              </li>
                                                                              }
                                                                        </ul>
                                                                        <div class="position-relative">
                                                                              <input type="text"
                                                                                    class="form-control ct_input"
                                                                                    #featureInput rows="4"
                                                                                    placeholder="{{'Enter' | translate}} {{'FeaturesSpecifications' | translate}}"
                                                                                    formControlName="carFeatures"
                                                                                    (keydown.enter)="addFeature(featureInput.value); $event.preventDefault()" />
                                                                              <button type="button"
                                                                                    (click)="addFeature(featureInput.value)"
                                                                                    class="position-absolute plus_button"><i
                                                                                          class="fa fa-plus"></i></button>
                                                                        </div>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('FeaturesSpecifications'
                                                                              | translate),
                                                                              carFormOne.get("carFeatures"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'Description' |
                                                                              translate}}
                                                                        </label>
                                                                        <textarea type="text"
                                                                              class="form-control ct_input h-auto"
                                                                              rows="4"
                                                                              placeholder="{{'Enter' | translate}} {{'Description' | translate}}"
                                                                              formControlName="description"></textarea>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('Description'
                                                                              | translate),
                                                                              carFormOne.get("description"))}}</small>
                                                                  </div>
                                                            </div>
                                                            }
                                                      </div>
                                                </div>

                                                <!-- <input type="button" name="next" class="ct_form_next action-button" value="Next" /> -->
                                                @if(entryType === 2){
                                                <button type="button" class="ct_red_btn float-end mt-4"
                                                      (click)="nextStep(carFormOne)">
                                                      {{'Next' | translate}}
                                                </button>
                                                }
                                          </form>
                                    </fieldset>
                                    <fieldset *ngIf="formStep == 2" class="ct_white_bg">
                                          <form [formGroup]="carFormTwo">
                                                <div class="ct_edit_profile_bg mb-4">
                                                      <div class="row">
                                                            <div class="col-md-12">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'TotalPrice' |
                                                                              translate}}
                                                                        </label>
                                                                        <div class="position-relative">
                                                                              <input type="number"
                                                                                    placeholder="{{'Enter' | translate}} {{'Amount' | translate}}"
                                                                                    class="form-control ct_input pe-5"
                                                                                    formControlName="totalPrice" />
                                                                              <span class="ct_show_eye">CHF</span>
                                                                        </div>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('TotalPrice'
                                                                              | translate),
                                                                              carFormTwo.get("totalPrice"))}}</small>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                  <div class="form-group mb-4 text-start">
                                                                        <label for=""
                                                                              class="mb-2 ct_fw_600">{{'Location' |
                                                                              translate}}
                                                                        </label>
                                                                        <textarea type="text"
                                                                              class="form-control ct_input h-auto"
                                                                              rows="2"
                                                                              placeholder="{{'Enter' | translate}} {{'Location' | translate}}"
                                                                              formControlName="location"></textarea>
                                                                        <small class="text-danger">{{validationErrorService.getErrorMessage(('Location'
                                                                              | translate),
                                                                              carFormTwo.get("location"))}}</small>
                                                                  </div>
                                                            </div>
                                                      </div>
                                                </div>

                                                <button type="button" class="ct_red_btn float-end"
                                                      (click)="nextStep(carFormTwo)">
                                                      {{'Next' | translate}}
                                                </button>
                                                <button type="button" (click)="previousStep()"
                                                      class="ct_red_btn ct_outline_btn float-end me-3">
                                                      {{'Back' | translate}}
                                                </button>
                                          </form>
                                    </fieldset>
                                    <fieldset class="ct_white_bg">
                                          <div class="text-start mb-4">
                                                <label for="" class="ct_fw_600 mb-2">{{'UploadPhotos' |
                                                      translate}}</label>
                                                <div class="row g-3">
                                                      <ng-container *ngFor="let side of [
                                                            {label: ('FrontView' | translate),        key: 0},
                                                            {label: ('RearView' | translate),         key: 1},
                                                            {label: ('LeftSideView' | translate),     key: 2},
                                                            {label: ('RightSideView' | translate),    key: 3},
                                                            {label: ('FrontInterior' | translate),    key: 4},
                                                            {label: ('RearInterior' | translate),     key: 5},
                                                            {label: ('Dashboard' | translate),        key: 6},
                                                            {label: ('EngineBay' | translate),        key: 7}
                                                      ]; let i = index">
                                                            <div class="col-6 col-md-3">
                                                                  <div
                                                                        class="ct_upload_product_main ct_upload_product_main_180 text-center">
                                                                        <label [for]="'ct_upload_product_' + i"
                                                                              class="w-100 mb-0">
                                                                              <input type="file" class="d-none"
                                                                                    accept="image/*"
                                                                                    [id]="'ct_upload_product_' + i"
                                                                                    (change)="onCoverImage($event)" />
                                                                              <!-- Box with correct 38:27 aspect ratio -->
                                                                              <div class="ct_browse_box position-relative d-flex flex-column align-items-center justify-content-center"
                                                                                    style="cursor:pointer; width:100%; aspect-ratio:38/27; background:#f8f9fa; border-radius: 10px;">
                                                                                    <ng-container
                                                                                          *ngIf="!!previewCarImages && previewCarImages[i]; else uploadPlaceholder">
                                                                                          <img [src]="previewCarImages[i]"
                                                                                                alt=""
                                                                                                style="width:100%;height:100%;object-fit:cover; border-radius: 8px;" />
                                                                                          <i class="fa-solid fa-xmark position-absolute top-0 end-0 m-2 close-btn"
                                                                                                style="cursor:pointer;"
                                                                                                (click)="removeCarImage(i); $event.stopPropagation(); $event.preventDefault();"></i>
                                                                                    </ng-container>
                                                                                    <ng-template #uploadPlaceholder>
                                                                                          <svg width="33" height="33"
                                                                                                viewBox="0 0 33 33"
                                                                                                fill="none"
                                                                                                xmlns="http://www.w3.org/2000/svg">
                                                                                                <path d="M5.87174 22.0167C4.26376 20.9403 3.20508 19.1073 3.20508 17.027C3.20508 13.9023 5.59376 11.3354 8.64473 11.0528C9.26883 7.25653 12.5654 4.36035 16.5384 4.36035C20.5114 4.36035 23.808 7.25653 24.4321 11.0528C27.4831 11.3354 29.8717 13.9023 29.8717 17.027C29.8717 19.1073 28.8131 20.9403 27.2051 22.0167M11.2051 21.6937L16.5384 16.3604M16.5384 16.3604L21.8717 21.6937M16.5384 16.3604V28.3604"
                                                                                                      stroke="#9CA3AF"
                                                                                                      stroke-width="2.66667"
                                                                                                      stroke-linecap="round"
                                                                                                      stroke-linejoin="round">
                                                                                                </path>
                                                                                          </svg>
                                                                                          <span
                                                                                                class="d-block ct_fs_16 ct_text_op_07 mt-2">
                                                                                                {{ side.label }}
                                                                                          </span>
                                                                                          <small
                                                                                                class="d-block ct_text_op_6">{{'UploadImage'
                                                                                                | translate}}</small>
                                                                                          <div
                                                                                                class="ct_browse_btn mt-2">
                                                                                                <span>{{'BrowseFiles' |
                                                                                                      translate}}</span>
                                                                                          </div>
                                                                                    </ng-template>
                                                                              </div>
                                                                        </label>
                                                                  </div>
                                                            </div>
                                                      </ng-container>
                                                </div>
                                                <!-- <small *ngIf="previewCarImages && previewCarImages.filter((x: any) => !!x).length < 8 && submitted" class="text-danger">
                                                      {{'PleaseUploadCarImagesForAllSides' | translate}}
                                                </small> -->
                                          </div>
                                          <div class="text-start mb-4">
                                                <label for="" class="ct_fw_600 mb-2">{{'UploadCarReel' | translate}}
                                                </label>
                                                <div class="ct_upload_product_main ct_upload_product_main">
                                                      <svg width="33" height="33" viewBox="0 0 33 33" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M5.87174 22.0167C4.26376 20.9403 3.20508 19.1073 3.20508 17.027C3.20508 13.9023 5.59376 11.3354 8.64473 11.0528C9.26883 7.25653 12.5654 4.36035 16.5384 4.36035C20.5114 4.36035 23.808 7.25653 24.4321 11.0528C27.4831 11.3354 29.8717 13.9023 29.8717 17.027C29.8717 19.1073 28.8131 20.9403 27.2051 22.0167M11.2051 21.6937L16.5384 16.3604M16.5384 16.3604L21.8717 21.6937M16.5384 16.3604V28.3604"
                                                                  stroke="#9CA3AF" stroke-width="2.66667"
                                                                  stroke-linecap="round" stroke-linejoin="round"></path>
                                                      </svg>

                                                      <p class="text-center ct_fs_18 ct_text_op_07 mb-0">
                                                            {{'UploadYourVideoHere' | translate}}
                                                      </p>
                                                      <small class="text-center d-block ct_text_op_6">{{'MP4VideoUpTo60Seconds'
                                                            | translate}}

                                                      </small>
                                                      <label for="ct_upload_video">
                                                            <input type="file" name="" id="ct_upload_video"
                                                                  class="d-none" accept="video/mp4"
                                                                  (change)="onFileSelected($event)" />
                                                            <div class="ct_browse_btn mt-3">
                                                                  <span>{{'BrowseFiles' | translate}}</span>
                                                            </div>
                                                      </label>
                                                </div>

                                                <div class="ct_single_uploaded_img mt-3 py-2" *ngIf="videoPreview">
                                                      <div class="mobile-frame">
                                                            <video [src]="videoPreview" autoplay controls playsinline
                                                                  class="videoPreview"></video>
                                                            <i class="fa-solid fa-xmark close-btn"
                                                                  (click)="removeFile()"></i>
                                                      </div>
                                                </div>
                                          </div>
                                          <!-- <button routerLink="/my-listings" type="button"
                                                class="ct_red_btn ct_form_next float-end">
                                                Submit
                                          </button> -->

                                          <app-submit-button [class]="'ct_red_btn float-end'" [isLoading]="loading"
                                                [text]="'Submit' | translate" (click)="onSubmit()">
                                          </app-submit-button>

                                          <button type="button"
                                                class="ct_red_btn ct_outline_btn previous float-end me-3"
                                                (click)="previousStep()">
                                                {{'Back' | translate}}
                                          </button>
                                    </fieldset>
                              </form>
                        </div>
                  </div>
            </div>
      </div>
</section>

<div class="modal fade modal-lg" id="ct_feedback_detail_modal" tabindex="-1"
      aria-labelledby="ct_feedback_detail_modalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                  <div class="modal-body">
                        <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true"
                              [aspectRatio]="38 / 27" [resizeToWidth]="190" [resizeToHeight]="135" format="png"
                              (imageCropped)="imageCropped($event)">
                        </image-cropper>
                  </div>
                  <div class="modal-footer">
                        <button type="button" class="ct_outline_btn ct_red_btn" data-bs-dismiss="modal"
                              #closeBtn>{{'Cancel' |
                              translate}}</button>
                        <button type="button" class="ct_red_btn" (click)="onDone()">{{'Done' | translate}}</button>
                  </div>
            </div>
      </div>
</div>

<!-- <ngx-scanner-qrcode #action="scanner" (event)="onEvent($event)">
</ngx-scanner-qrcode>
<button (click)="action.start()">Start</button>
<button (click)="action.stop()">Stop</button> -->